# Synapse - AI-Powered Project Intelligence

> **Zero-effort context** - Your work connects itself

Synapse uses AI to **automatically** detect relationships between your work across tools, create threads without manual effort, and surface insights you'd never find yourself. Stop managing connections - let the intelligence come to you.

**The Problem**: Teams waste hours connecting dots between Figma designs, Linear tickets, GitHub PRs, and Slack conversations.

**The Solution**: Synapse's AI watches all your tools and automatically:
- âœ¨ Detects when a PR implements a Linear issue
- ğŸ§µ Creates threads linking related work
- ğŸ” Surfaces blockers before you ask
- ğŸ“Š Generates daily digests of what happened
- âš¡ Shows insights on Day 1 - zero setup needed

## ğŸ“‹ Table of Contents

- [Features](#features)
- [Tech Stack](#tech-stack)
- [Getting Started](#getting-started)
- [Database Setup](#database-setup)
- [Environment Variables](#environment-variables)
- [Development](#development)
- [Deployment](#deployment)
- [Project Structure](#project-structure)
- [API Documentation](#api-documentation)

## âœ¨ What Makes Synapse Different

### **100% Automatic** - No Manual Work Required

Traditional tools make YOU create connections. Synapse creates them FOR you.

| Old Way (Notion, Zapier, etc.) | Synapse Way |
|-------------------------------|-------------|
| Manually link Linear â†’ GitHub | AI auto-detects relationships |
| Create project docs by hand | Threads create themselves |
| Search for updates across tools | Intelligence feed shows you |
| Remember what's blocking what | AI surfaces blockers |
| Run daily standups | Get AI-generated digests |

### Core Intelligence Features

- **ğŸ¤– Auto-Detection**: AI analyzes every GitHub PR, Linear ticket, Figma file, Slack message and automatically detects relationships
- **âš¡ Auto-Threading**: When AI finds 2+ related items, it creates a thread automatically
- **ğŸ” Proactive Insights**: "Your payment flow design has been in review for 5 days with no related PRs"
- **ğŸ“Š Intelligence Feed**: See what's happening across all tools in one AI-powered view
- **ğŸ“§ Smart Digests**: Daily/weekly summaries generated by AI
- **ğŸ¯ Blocker Detection**: AI identifies stalled work and dependencies

### Day 1 Value

Most tools are empty on day 1. Synapse shows value IMMEDIATELY:
1. Connect GitHub â†’ Synapse starts analyzing
2. Open Intelligence Feed â†’ See AI insights about your existing work
3. Next webhook â†’ Relationships auto-detected, threads auto-created
4. Zero manual work â†’ Intelligence just appears

### Integrations (8 Tools)

1. **Figma** - Design files and prototypes
2. **Linear** - Issues and project tracking
3. **GitHub** - Code, PRs, and releases
4. **Slack** - Messages and conversations
5. **Notion** - Documentation and wikis
6. **Zoom** - Meetings and recordings
7. **Dovetail** - User research insights
8. **Mixpanel** - Analytics and metrics

## ğŸ›  Tech Stack

### Frontend
- **Next.js 14** - React framework with App Router
- **TypeScript** - Type safety
- **Tailwind CSS** - Styling
- **shadcn/ui** - UI components
- **tRPC** - End-to-end type-safe APIs
- **React Query** - Server state management
- **Zustand** - Client state management

### Backend
- **Next.js API Routes** - Serverless functions
- **tRPC v10** - Type-safe API layer
- **Prisma 5** - Database ORM
- **PostgreSQL 15** - Primary database
- **Redis** - Caching and rate limiting
- **Socket.io** - Real-time WebSocket server

### AI & ML
- **OpenAI** - Embeddings (text-embedding-3-small)
- **Anthropic Claude** - Complex queries and summaries
- **pgvector** - Vector similarity search

### Infrastructure
- **Vercel** - Frontend hosting (free tier)
- **Railway/DigitalOcean** - Backend services ($90-180/mo)
- **Supabase/Neon** - PostgreSQL database ($0-69/mo)
- **Cloudflare R2** - Object storage ($30/mo)
- **Upstash Redis** - Caching ($0-10/mo)

**Total Infrastructure Cost**: $130-355/month (Month 1-3)

## ğŸš€ Getting Started

### Prerequisites

- Node.js 20+ and npm 10+
- PostgreSQL 15+ (local or hosted)
- Redis (optional but recommended)
- Git

### Installation

1. **Clone the repository**

```bash
git clone <repository-url>
cd synapse
```

2. **Install dependencies**

```bash
npm install
```

3. **Set up environment variables**

```bash
cp .env.example .env
```

Edit `.env` with your configuration (see [Environment Variables](#environment-variables))

4. **Set up the database**

```bash
# Generate Prisma client
npx prisma generate

# Run migrations
npx prisma db push

# (Optional) Seed the database
npm run db:seed
```

5. **Start development server**

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000)

## ğŸ—„ Database Setup

### Local PostgreSQL

```bash
# Install PostgreSQL
brew install postgresql@15  # macOS
# or
sudo apt-get install postgresql-15  # Ubuntu

# Create database
createdb synapse

# Enable pgvector extension
psql synapse
CREATE EXTENSION vector;
```

### Hosted PostgreSQL (Recommended)

**Option 1: Supabase (Free tier available)**

1. Sign up at [supabase.com](https://supabase.com)
2. Create new project
3. Get connection string from Settings > Database
4. Enable pgvector extension from Database > Extensions

**Option 2: Neon (Free tier available)**

1. Sign up at [neon.tech](https://neon.tech)
2. Create new project
3. Get connection string
4. pgvector is pre-installed

## ğŸ” Environment Variables

### Required Variables

```bash
# Database
DATABASE_URL="postgresql://user:password@localhost:5432/synapse"
DATABASE_DIRECT_URL="postgresql://user:password@localhost:5432/synapse"

# Auth (Clerk)
CLERK_SECRET_KEY="sk_live_..."
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_live_..."

# App
NEXT_PUBLIC_APP_URL="http://localhost:3000"
ENCRYPTION_MASTER_KEY="<generate with: openssl rand -base64 32>"
NODE_ENV="development"
```

### Optional Variables

```bash
# Redis (for caching and rate limiting)
REDIS_URL="redis://localhost:6379"

# AI (for semantic search)
OPENAI_API_KEY="sk-..."
ANTHROPIC_API_KEY="sk-ant-..."

# Storage (Cloudflare R2)
R2_ACCOUNT_ID="..."
R2_ACCESS_KEY_ID="..."
R2_SECRET_ACCESS_KEY="..."
R2_BUCKET_NAME="synapse-dev"

# Integrations (OAuth - get from respective platforms)
FIGMA_CLIENT_ID="..."
FIGMA_CLIENT_SECRET="..."
LINEAR_CLIENT_ID="..."
LINEAR_CLIENT_SECRET="..."
GITHUB_APP_ID="..."
GITHUB_PRIVATE_KEY="..."
SLACK_CLIENT_ID="..."
SLACK_CLIENT_SECRET="..."
NOTION_CLIENT_ID="..."
NOTION_CLIENT_SECRET="..."
ZOOM_CLIENT_ID="..."
ZOOM_CLIENT_SECRET="..."
```

## ğŸ’» Development

### Available Scripts

```bash
npm run dev          # Start development server
npm run build        # Build for production
npm run start        # Start production server
npm run lint         # Run ESLint
npm run type-check   # Run TypeScript compiler check
npm run db:push      # Push Prisma schema to database
npm run db:migrate   # Create migration
npm run db:studio    # Open Prisma Studio
npm run websocket    # Start WebSocket server (separate terminal)
```

### Development Workflow

1. **Backend Changes**: Edit files in `src/server/api/routers/`
2. **Frontend Changes**: Edit files in `src/pages/` or `src/components/`
3. **Database Changes**: Edit `prisma/schema.prisma` then run `npm run db:push`
4. **Type Safety**: tRPC automatically syncs types between frontend and backend

### Database Management

```bash
# View database in browser
npm run db:studio

# Create a migration
npm run db:migrate

# Reset database (WARNING: deletes all data)
npx prisma migrate reset
```

## ğŸš¢ Deployment

### 1. Vercel (Frontend)

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new)

```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
vercel

# Set environment variables in Vercel dashboard
```

### 2. Railway (Backend Services)

1. Sign up at [railway.app](https://railway.app)
2. Create new project from GitHub repo
3. Add environment variables
4. Deploy automatically on push

### 3. Database (Supabase/Neon)

Already set up in [Database Setup](#database-setup)

### 4. Storage (Cloudflare R2)

1. Sign up at [cloudflare.com](https://cloudflare.com)
2. Create R2 bucket
3. Generate API tokens
4. Add credentials to environment variables

## ğŸ“ Project Structure

```
synapse/
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma          # Database schema
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/            # React components
â”‚   â”œâ”€â”€ lib/                   # Utilities
â”‚   â”‚   â”œâ”€â”€ prisma.ts         # Database client
â”‚   â”‚   â”œâ”€â”€ cache.ts          # Redis caching
â”‚   â”‚   â”œâ”€â”€ encryption.ts     # Token encryption
â”‚   â”‚   â””â”€â”€ utils.ts          # Helper functions
â”‚   â”œâ”€â”€ pages/                 # Next.js pages
â”‚   â”‚   â”œâ”€â”€ api/              # API routes
â”‚   â”‚   â”‚   â””â”€â”€ trpc/         # tRPC endpoint
â”‚   â”‚   â”œâ”€â”€ index.tsx         # Home page
â”‚   â”‚   â”œâ”€â”€ _app.tsx          # App wrapper
â”‚   â”‚   â””â”€â”€ _document.tsx     # HTML document
â”‚   â”œâ”€â”€ server/               # Backend logic
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ routers/      # tRPC routers
â”‚   â”‚       â”‚   â”œâ”€â”€ threads.ts      # Golden Threads
â”‚   â”‚       â”‚   â”œâ”€â”€ items.ts        # Connected Items
â”‚   â”‚       â”‚   â”œâ”€â”€ comments.ts     # Comments
â”‚   â”‚       â”‚   â”œâ”€â”€ search.ts       # Search
â”‚   â”‚       â”‚   â”œâ”€â”€ integrations.ts # Integrations
â”‚   â”‚       â”‚   â”œâ”€â”€ automations.ts  # Automations
â”‚   â”‚       â”‚   â”œâ”€â”€ organizations.ts
â”‚   â”‚       â”‚   â””â”€â”€ analytics.ts
â”‚   â”‚       â”œâ”€â”€ root.ts       # Root router
â”‚   â”‚       â””â”€â”€ trpc.ts       # tRPC config
â”‚   â”œâ”€â”€ styles/               # CSS files
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â””â”€â”€ utils/                # Frontend utilities
â”‚       â””â”€â”€ api.ts            # tRPC client
â”œâ”€â”€ websocket-server/         # WebSocket server
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ .env.example              # Environment template
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ next.config.mjs
â””â”€â”€ README.md
```

## ğŸ“š API Documentation

### tRPC Routers

All API routes are type-safe through tRPC. Access them via the `api` object:

```typescript
import { api } from '@/utils/api';

// Use in React components
const { data, isLoading } = api.threads.list.useQuery({
  limit: 20,
  status: 'in_progress',
});

// Mutations
const createThread = api.threads.create.useMutation({
  onSuccess: () => {
    // Handle success
  },
});

createThread.mutate({
  title: 'New Feature',
  description: 'Building checkout flow',
  tags: ['checkout', 'payments'],
});
```

### Available Routers

- `api.threads.*` - Golden Thread management
- `api.items.*` - Connected item management
- `api.comments.*` - Comment system
- `api.search.*` - Semantic search
- `api.integrations.*` - Integration management
- `api.automations.*` - Automation workflows
- `api.organizations.*` - Organization settings
- `api.analytics.*` - Analytics and metrics

## ğŸ— Implementation Timeline

### Weeks 1-2: Foundation âœ…
- [x] Infrastructure setup
- [x] Database schema
- [x] Authentication
- [x] Basic Next.js app
- [x] tRPC API layer

### Weeks 3-4: Core Features
- [ ] Golden Thread CRUD
- [ ] Dashboard UI
- [ ] Thread timeline view
- [ ] Real-time updates

### Weeks 5-6: Tier 1 Integrations
- [ ] GitHub OAuth + webhooks
- [ ] Slack OAuth + webhooks
- [ ] Linear OAuth + webhooks
- [ ] Connected items sync

### Weeks 7-8: Tier 2 + AI
- [ ] Figma integration
- [ ] Notion integration
- [ ] Semantic search (embeddings)
- [ ] AI insights

### Weeks 9-10: Tier 3 + Automation
- [ ] Zoom, Dovetail, Mixpanel
- [ ] Visual automation builder
- [ ] Automation engine
- [ ] Pre-built templates

### Weeks 11-12: Polish & Launch
- [ ] Security hardening
- [ ] Performance optimization
- [ ] Onboarding flow
- [ ] Production deployment

## ğŸ“ License

Proprietary - All rights reserved

## ğŸ¤ Contributing

This is a private project. Contact the team for contribution guidelines.

## ğŸ“§ Support

For questions or support, contact: [your-email@example.com]

---

**Built with â¤ï¸ using Next.js, tRPC, and Prisma**
